{
  "version": 3,
  "sources": ["../../@astrojs/preact/dist/static-html.js", "../../@astrojs/preact/dist/client.js"],
  "sourcesContent": ["import { h } from \"preact\";\nconst StaticHtml = ({ value, name }) => {\n  if (!value)\n    return null;\n  return h(\"astro-slot\", { name, dangerouslySetInnerHTML: { __html: value } });\n};\nStaticHtml.shouldComponentUpdate = () => false;\nvar static_html_default = StaticHtml;\nexport {\n  static_html_default as default\n};\n", "import { h, render } from \"preact\";\nimport StaticHtml from \"./static-html.js\";\nconst sharedSignalMap = /* @__PURE__ */ new Map();\nvar client_default = (element) => async (Component, props, { default: children, ...slotted }) => {\n  if (!element.hasAttribute(\"ssr\"))\n    return;\n  for (const [key, value] of Object.entries(slotted)) {\n    props[key] = h(StaticHtml, { value, name: key });\n  }\n  let signalsRaw = element.dataset.preactSignals;\n  if (signalsRaw) {\n    const { signal } = await import(\"@preact/signals\");\n    let signals = JSON.parse(element.dataset.preactSignals);\n    for (const [propName, signalId] of Object.entries(signals)) {\n      if (!sharedSignalMap.has(signalId)) {\n        const signalValue = signal(props[propName]);\n        sharedSignalMap.set(signalId, signalValue);\n      }\n      props[propName] = sharedSignalMap.get(signalId);\n    }\n  }\n  function Wrapper({ children: children2 }) {\n    let attrs = Object.fromEntries(\n      Array.from(element.attributes).map((attr) => [attr.name, attr.value])\n    );\n    return h(element.localName, attrs, children2);\n  }\n  render(\n    h(\n      Wrapper,\n      null,\n      h(Component, props, children != null ? h(StaticHtml, { value: children }) : children)\n    ),\n    element.parentNode,\n    element\n  );\n};\nexport {\n  client_default as default\n};\n"],
  "mappings": ";;;;;;AACA,IAAM,aAAa,CAAC,EAAE,OAAO,KAAK,MAAM;AACtC,MAAI,CAAC;AACH,WAAO;AACT,SAAO,EAAE,cAAc,EAAE,MAAM,yBAAyB,EAAE,QAAQ,MAAM,EAAE,CAAC;AAC7E;AACA,WAAW,wBAAwB,MAAM;AACzC,IAAI,sBAAsB;;;ACL1B,IAAM,kBAAkC,oBAAI,IAAI;AAChD,IAAI,iBAAiB,CAAC,YAAY,OAAO,WAAW,OAAO,EAAE,SAAS,UAAU,GAAG,QAAQ,MAAM;AAC/F,MAAI,CAAC,QAAQ,aAAa,KAAK;AAC7B;AACF,aAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,OAAO,GAAG;AAClD,UAAM,GAAG,IAAI,EAAE,qBAAY,EAAE,OAAO,MAAM,IAAI,CAAC;AAAA,EACjD;AACA,MAAI,aAAa,QAAQ,QAAQ;AACjC,MAAI,YAAY;AACd,UAAM,EAAE,OAAO,IAAI,MAAM,OAAO,8BAAiB;AACjD,QAAI,UAAU,KAAK,MAAM,QAAQ,QAAQ,aAAa;AACtD,eAAW,CAAC,UAAU,QAAQ,KAAK,OAAO,QAAQ,OAAO,GAAG;AAC1D,UAAI,CAAC,gBAAgB,IAAI,QAAQ,GAAG;AAClC,cAAM,cAAc,OAAO,MAAM,QAAQ,CAAC;AAC1C,wBAAgB,IAAI,UAAU,WAAW;AAAA,MAC3C;AACA,YAAM,QAAQ,IAAI,gBAAgB,IAAI,QAAQ;AAAA,IAChD;AAAA,EACF;AACA,WAAS,QAAQ,EAAE,UAAU,UAAU,GAAG;AACxC,QAAI,QAAQ,OAAO;AAAA,MACjB,MAAM,KAAK,QAAQ,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,MAAM,KAAK,KAAK,CAAC;AAAA,IACtE;AACA,WAAO,EAAE,QAAQ,WAAW,OAAO,SAAS;AAAA,EAC9C;AACA;AAAA,IACE;AAAA,MACE;AAAA,MACA;AAAA,MACA,EAAE,WAAW,OAAO,YAAY,OAAO,EAAE,qBAAY,EAAE,OAAO,SAAS,CAAC,IAAI,QAAQ;AAAA,IACtF;AAAA,IACA,QAAQ;AAAA,IACR;AAAA,EACF;AACF;",
  "names": []
}
